var n=Object.defineProperty,u=r=>n(r,"__esModule",{value:!0}),_=(r,e)=>{u(r);for(var t in e)n(r,t,{get:e[t],enumerable:!0})};_(exports,{Cue:()=>p,_creatElement:()=>d,_createText:()=>h,_if:()=>x,_string:()=>l});function c(r,e,t){if(e==="className"&&(e="class"),/on\w+/.test(e))e=e.toLowerCase(),r[e]=t||"";else if(e==="style"){if(!t||typeof t=="string")r.style.cssText=t||"";else if(t&&typeof t=="object")for(let i in t)r.style[i]=typeof t[i]=="number"?t[i]+"px":t[i]}else e in r&&(r[e]=t||""),t?r.setAttribute(e,t):r.removeAttribute(e)}function f(r,e){return e.appendChild(a(r))}function a(r){if(typeof r=="string")return document.createTextNode(r);let e=document.createElement(r.tag);return r.attrs&&Object.keys(r.attrs).forEach(t=>{let i=r.attrs[t];t.indexOf("on-")!==-1?e.addEventListener(t.slice(3),i,!1):c(e,t,i)}),r.children&&r.children.forEach(t=>f(t,e)),e}var s=f;function d(r,e,t){return{tag:r,attrs:e,children:t}}function h(r){return r}function l(r){return r}function x(r,e,t){return r?e():t()}var p=class{constructor({script:e,css:t,tpl:i,render:o}){this.render=o,this._ctx=this.initContext(e),this.vNode=this.render(this._ctx),this._ctx.created&&this._ctx.created()}initContext(e){let t=this;return e.setData=function(i){this.data={...this.data,...i};let o=t.render(this);console.log("new node: ",o),console.log("old node: ",t.vNode),t.clearRoot(),s(o,t.root),t._ctx.updated&&this._ctx.updated()},e}mount(e){this.root=e,s(this.vNode,this.root),this._ctx.mounted&&this._ctx.mounted()}clearRoot(){let e=this.root,t=e.childNodes;for(let i=0;i<t.length;i++)e.removeChild(t[i])}};
