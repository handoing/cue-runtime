var l=Object.defineProperty,x=t=>l(t,"__esModule",{value:!0}),g=(t,e)=>{x(t);for(var r in e)l(t,r,{get:e[r],enumerable:!0})};g(exports,{default:()=>m});function n(t,e,r){return{tag:t,attrs:e,children:r}}function i(t){return t}function d(t){return t}function u(t,e,r){return t?e():r()}function b(t){return n("div",{"on-click":t.toggle.bind(t)},[n("p",{},[i(d(t.data.name))]),u(t.data.showHello,function(){return n("p",{},[i("hello")])},function(){return n("p",{},[i("yellow")])})])}var s=b;function h(t,e,r){if(e==="className"&&(e="class"),/on\w+/.test(e))e=e.toLowerCase(),t[e]=r||"";else if(e==="style"){if(!r||typeof r=="string")t.style.cssText=r||"";else if(r&&typeof r=="object")for(let o in r)t.style[o]=typeof r[o]=="number"?r[o]+"px":r[o]}else e in t&&(t[e]=r||""),r?t.setAttribute(e,r):t.removeAttribute(e)}function p(t,e){return e.appendChild(_(t))}function _(t){if(typeof t=="string")return document.createTextNode(t);let e=document.createElement(t.tag);return t.attrs&&Object.keys(t.attrs).forEach(r=>{let o=t.attrs[r];r.indexOf("on-")!==-1?e.addEventListener(r.slice(3),o,!1):h(e,r,o)}),t.children&&t.children.forEach(r=>p(r,e)),e}var c=p,a=class{constructor(e){this._ctx=this.initContext(e),this.vNode=s(e)}initContext(e){let r=this;return e.setData=function(o){this.data={...this.data,...o};let f=s(this);console.log("new node: ",f),console.log("old node: ",r.vNode),r.clearRoot(),c(f,r.root)},e}mount(e){this.root=e,c(this.vNode,this.root)}clearRoot(){let e=this.root,r=e.childNodes;for(let o=0;o<r.length;o++)e.removeChild(r[o])}},m=a;
