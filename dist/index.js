var F=Object.defineProperty,ie=e=>F(e,"__esModule",{value:!0}),re=(e,t)=>{ie(e);for(var n in t)F(e,n,{get:t[n],enumerable:!0})};re(exports,{Cue:()=>P,_creatElement:()=>Ae,_createText:()=>Me,_for:()=>De,_if:()=>Be,_string:()=>Oe,_vHide:()=>Ie,_vShow:()=>He,_withDirectives:()=>Ce,createApp:()=>Pe,h:()=>V});function E(e,t,n,i,r){let o=t===void 0?void 0:t.key;return{sel:e,data:t,children:n,text:i,elm:r,key:o}}var O=Array.isArray;function L(e){return typeof e=="string"||typeof e=="number"}function oe(e){return document.createElement(e)}function se(e,t){return document.createElementNS(e,t)}function le(e){return document.createTextNode(e)}function fe(e){return document.createComment(e)}function ae(e,t,n){e.insertBefore(t,n)}function ce(e,t){e.removeChild(t)}function ue(e,t){e.appendChild(t)}function de(e){return e.parentNode}function pe(e){return e.nextSibling}function me(e){return e.tagName}function ye(e,t){e.textContent=t}function he(e){return e.textContent}function ve(e){return e.nodeType===1}function xe(e){return e.nodeType===3}function ge(e){return e.nodeType===8}var R={createElement:oe,createElementNS:se,createTextNode:le,createComment:fe,insertBefore:ae,removeChild:ce,appendChild:ue,parentNode:de,nextSibling:pe,tagName:me,setTextContent:ye,getTextContent:he,isElement:ve,isText:xe,isComment:ge};function C(e){return e===void 0}function _(e){return e!==void 0}var K=E("",{},[],void 0,void 0);function B(e,t){return e.key===t.key&&e.sel===t.sel}function be(e){return e.sel!==void 0}function _e(e,t,n){var i;let r={};for(let o=t;o<=n;++o){let a=(i=e[o])===null||i===void 0?void 0:i.key;a!==void 0&&(r[a]=o)}return r}var D=["create","update","remove","destroy","pre","post"];function q(e,t){let n,i,r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},o=t!==void 0?t:R;for(n=0;n<D.length;++n)for(r[D[n]]=[],i=0;i<e.length;++i){let s=e[i][D[n]];s!==void 0&&r[D[n]].push(s)}function a(s){let l=s.id?"#"+s.id:"",u=s.className?"."+s.className.split(" ").join("."):"";return E(o.tagName(s).toLowerCase()+l+u,{},[],void 0,s)}function x(s,l){return function(){if(--l===0){let f=o.parentNode(s);o.removeChild(f,s)}}}function b(s,l){var u,f;let c,p=s.data;if(p!==void 0){let d=(u=p.hook)===null||u===void 0?void 0:u.init;_(d)&&(d(s),p=s.data)}let h=s.children,m=s.sel;if(m==="!")C(s.text)&&(s.text=""),s.elm=o.createComment(s.text);else if(m!==void 0){let d=m.indexOf("#"),v=m.indexOf(".",d),y=d>0?d:m.length,g=v>0?v:m.length,N=d!==-1||v!==-1?m.slice(0,Math.min(y,g)):m,k=s.elm=_(p)&&_(c=p.ns)?o.createElementNS(c,N):o.createElement(N);for(y<g&&k.setAttribute("id",m.slice(y+1,g)),v>0&&k.setAttribute("class",m.slice(g+1).replace(/\./g," ")),c=0;c<r.create.length;++c)r.create[c](K,s);if(O(h))for(c=0;c<h.length;++c){let M=h[c];M!=null&&o.appendChild(k,b(M,l))}else L(s.text)&&o.appendChild(k,o.createTextNode(s.text));let S=s.data.hook;_(S)&&((f=S.create)===null||f===void 0||f.call(S,K,s),S.insert&&l.push(s))}else s.elm=o.createTextNode(s.text);return s.elm}function w(s,l,u,f,c,p){for(;f<=c;++f){let h=u[f];h!=null&&o.insertBefore(s,b(h,p),l)}}function A(s){var l,u;let f=s.data;if(f!==void 0){(u=(l=f==null?void 0:f.hook)===null||l===void 0?void 0:l.destroy)===null||u===void 0||u.call(l,s);for(let c=0;c<r.destroy.length;++c)r.destroy[c](s);if(s.children!==void 0)for(let c=0;c<s.children.length;++c){let p=s.children[c];p!=null&&typeof p!="string"&&A(p)}}}function T(s,l,u,f){for(var c,p;u<=f;++u){let h,m,d=l[u];if(d!=null)if(_(d.sel)){A(d),h=r.remove.length+1,m=x(d.elm,h);for(let y=0;y<r.remove.length;++y)r.remove[y](d,m);let v=(p=(c=d==null?void 0:d.data)===null||c===void 0?void 0:c.hook)===null||p===void 0?void 0:p.remove;_(v)?v(d,m):m()}else o.removeChild(s,d.elm)}}function ne(s,l,u,f){let c=0,p=0,h=l.length-1,m=l[0],d=l[h],v=u.length-1,y=u[0],g=u[v],N,k,S,M;for(;c<=h&&p<=v;)m==null?m=l[++c]:d==null?d=l[--h]:y==null?y=u[++p]:g==null?g=u[--v]:B(m,y)?(j(m,y,f),m=l[++c],y=u[++p]):B(d,g)?(j(d,g,f),d=l[--h],g=u[--v]):B(m,g)?(j(m,g,f),o.insertBefore(s,m.elm,o.nextSibling(d.elm)),m=l[++c],g=u[--v]):B(d,y)?(j(d,y,f),o.insertBefore(s,d.elm,m.elm),d=l[--h],y=u[++p]):(N===void 0&&(N=_e(l,c,h)),k=N[y.key],C(k)?o.insertBefore(s,b(y,f),m.elm):(S=l[k],S.sel!==y.sel?o.insertBefore(s,b(y,f),m.elm):(j(S,y,f),l[k]=void 0,o.insertBefore(s,S.elm,m.elm))),y=u[++p]);(c<=h||p<=v)&&(c>h?(M=u[v+1]==null?null:u[v+1].elm,w(s,M,u,p,v,f)):T(s,l,c,h))}function j(s,l,u){var f,c,p,h,m;let d=(f=l.data)===null||f===void 0?void 0:f.hook;(c=d==null?void 0:d.prepatch)===null||c===void 0||c.call(d,s,l);let v=l.elm=s.elm,y=s.children,g=l.children;if(s===l)return;if(l.data!==void 0){for(let N=0;N<r.update.length;++N)r.update[N](s,l);(h=(p=l.data.hook)===null||p===void 0?void 0:p.update)===null||h===void 0||h.call(p,s,l)}C(l.text)?_(y)&&_(g)?y!==g&&ne(v,y,g,u):_(g)?(_(s.text)&&o.setTextContent(v,""),w(v,null,g,0,g.length-1,u)):_(y)?T(v,y,0,y.length-1):_(s.text)&&o.setTextContent(v,""):s.text!==l.text&&(_(y)&&T(v,y,0,y.length-1),o.setTextContent(v,l.text)),(m=d==null?void 0:d.postpatch)===null||m===void 0||m.call(d,s,l)}return function(l,u){let f,c,p,h=[];for(f=0;f<r.pre.length;++f)r.pre[f]();for(be(l)||(l=a(l)),B(l,u)?j(l,u,h):(c=l.elm,p=o.parentNode(c),b(u,h),p!==null&&(o.insertBefore(p,u.elm,o.nextSibling(c)),T(p,[l],0,0))),f=0;f<h.length;++f)h[f].data.hook.insert(h[f]);for(f=0;f<r.post.length;++f)r.post[f]();return u}}function U(e,t){var n,i,r=t.elm,o=e.data.class,a=t.data.class;if(!o&&!a)return;if(o===a)return;o=o||{},a=a||{};for(i in o)o[i]&&!Object.prototype.hasOwnProperty.call(a,i)&&r.classList.remove(i);for(i in a)n=a[i],n!==o[i]&&r.classList[n?"add":"remove"](i)}var z={create:U,update:U};function G(e,t){var n,i,r,o=t.elm,a=e.data.props,x=t.data.props;if(!a&&!x)return;if(a===x)return;a=a||{},x=x||{};for(n in x)i=x[n],r=a[n],r!==i&&(n!=="value"||o[n]!==i)&&(o[n]=i)}var J={create:G,update:G},W=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout,Ne=function(e){W(function(){W(e)})},H=!1;function ke(e,t,n){Ne(function(){e[t]=n})}function X(e,t){var n,i,r=t.elm,o=e.data.style,a=t.data.style;if(!o&&!a)return;if(o===a)return;o=o||{},a=a||{};var x="delayed"in o;for(i in o)a[i]||(i[0]==="-"&&i[1]==="-"?r.style.removeProperty(i):r.style[i]="");for(i in a)if(n=a[i],i==="delayed"&&a.delayed)for(let b in a.delayed)n=a.delayed[b],(!x||n!==o.delayed[b])&&ke(r.style,b,n);else i!=="remove"&&n!==o[i]&&(i[0]==="-"&&i[1]==="-"?r.style.setProperty(i,n):r.style[i]=n)}function Se(e){var t,n,i=e.elm,r=e.data.style;if(!r||!(t=r.destroy))return;for(n in t)i.style[n]=t[n]}function Te(e,t){var n=e.data.style;if(!n||!n.remove){t();return}H||(e.elm.offsetLeft,H=!0);var i,r=e.elm,o=0,a,x=n.remove,b=0,w=[];for(i in x)w.push(i),r.style[i]=x[i];a=getComputedStyle(r);for(var A=a["transition-property"].split(", ");o<A.length;++o)w.indexOf(A[o])!==-1&&b++;r.addEventListener("transitionend",function(T){T.target===r&&--b,b===0&&t()})}function je(){H=!1}var Y={pre:je,create:X,update:X,destroy:Se,remove:Te};function Z(e,t,n){if(typeof e=="function")e.call(t,n,t);else if(typeof e=="object")for(var i=0;i<e.length;i++)Z(e[i],t,n)}function Ee(e,t){var n=e.type,i=t.data.on;i&&i[n]&&Z(i[n],t,e)}function Le(){return function e(t){Ee(t,e.vnode)}}function I(e,t){var n=e.data.on,i=e.listener,r=e.elm,o=t&&t.data.on,a=t&&t.elm,x;if(n===o)return;if(n&&i)if(o)for(x in n)o[x]||r.removeEventListener(x,i,!1);else for(x in n)r.removeEventListener(x,i,!1);if(o){var b=t.listener=e.listener||Le();if(b.vnode=t,n)for(x in o)n[x]||a.addEventListener(x,b,!1);else for(x in o)a.addEventListener(x,b,!1)}}var $={create:I,update:I,destroy:I};function Q(e,t,n){if(e.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&t!==void 0)for(let i=0;i<t.length;++i){let r=t[i].data;r!==void 0&&Q(r,t[i].children,t[i].sel)}}function V(e,t,n){var i={},r,o,a;if(n!==void 0?(t!==null&&(i=t),O(n)?r=n:L(n)?o=n:n&&n.sel&&(r=[n])):t!=null&&(O(t)?r=t:L(t)?o=t:t&&t.sel?r=[t]:i=t),r!==void 0)for(a=0;a<r.length;++a)L(r[a])&&(r[a]=E(void 0,void 0,void 0,r[a],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&Q(i,r,e),E(e,i,r,o,void 0)}function we(e){return Object.prototype.toString.call(e).replace(/\[object\s|\]/g,"")}function ee(e){return we(e)==="String"}function Ae(e,t,n){return{tag:e,attrs:t,children:n}}function Me(e){return e}function Oe(e){return e}function Be(e,t,n){return e?t():n()}function De(e,t){return e.reduce(function(n,i,r){return n.concat(t(i,r))},[])}function Ce(e,t){return t.map(([n,i])=>ee(n)?void 0:n(e,i)),e}function He(e,t){}function Ie(e,t){}var te=q([z,J,Y,$]),P=class{constructor({script:t,css:n,tpl:i,render:r}){this.render=r,this._ctx=this.initContext(t),this.vNode=this.render(this._ctx),this._ctx.created&&this._ctx.created()}initContext(t){return t.setData=n=>{let i=this._ctx;this.data=Object.assign(i.data,n);let r=this.render(i);console.log("new node: ",r),console.log("old node: ",this.vNode),te(this.vNode,r),this.vNode=r,this._ctx.updated&&this._ctx.updated()},t}mount(t){this.root=t,te(this.root,this.vNode),this._ctx.mounted&&this._ctx.mounted()}destroy(){this.root.innerHTML="",this._ctx.destroyed&&this._ctx.destroyed()}};function Pe(e){return new P(e)}
