var n=Object.defineProperty,u=r=>n(r,"__esModule",{value:!0}),_=(r,e)=>{u(r);for(var t in e)n(r,t,{get:e[t],enumerable:!0})};_(exports,{Cue:()=>x,_creatElement:()=>l,_createText:()=>h,_if:()=>p,_string:()=>d});function c(r,e,t){if(e==="className"&&(e="class"),/on\w+/.test(e))e=e.toLowerCase(),r[e]=t||"";else if(e==="style"){if(!t||typeof t=="string")r.style.cssText=t||"";else if(t&&typeof t=="object")for(let o in t)r.style[o]=typeof t[o]=="number"?t[o]+"px":t[o]}else e in r&&(r[e]=t||""),t?r.setAttribute(e,t):r.removeAttribute(e)}function f(r,e){return e.appendChild(a(r))}function a(r){if(typeof r=="string")return document.createTextNode(r);let e=document.createElement(r.tag);return r.attrs&&Object.keys(r.attrs).forEach(t=>{let o=r.attrs[t];t.indexOf("on-")!==-1?e.addEventListener(t.slice(3),o,!1):c(e,t,o)}),r.children&&r.children.forEach(t=>f(t,e)),e}var s=f;function l(r,e,t){return{tag:r,attrs:e,children:t}}function h(r){return r}function d(r){return r}function p(r,e,t){return r?e():t()}var x=class{constructor({script:e,css:t,tpl:o,render:i}){this.render=i,this._ctx=this.initContext(e),this.vNode=this.render(this._ctx)}initContext(e){let t=this;return e.setData=function(o){this.data={...this.data,...o};let i=t.render(this);console.log("new node: ",i),console.log("old node: ",t.vNode),t.clearRoot(),s(i,t.root)},e}mount(e){this.root=e,s(this.vNode,this.root)}clearRoot(){let e=this.root,t=e.childNodes;for(let o=0;o<t.length;o++)e.removeChild(t[o])}};
